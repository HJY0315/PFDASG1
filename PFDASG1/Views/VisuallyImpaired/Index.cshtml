@{
    Layout = null;
}


<!DOCTYPE html>
<html>
<head>
    <!-- Use Unicode character encoding - multi-language compatibility -->
    <meta charset="utf-8">

    <!-- Set the initial view zooming scale for mobile device -->
    <meta name="viewport" content="width = device-width,
 initial-scale = 1" />

    <title>OCBC</title>

    <!-- Reference to customized styling for this website -->
    @*<link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />*@
    <link rel="stylesheet" type="text/css" href="~/css/site.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

    <!-- Bootstrap JavaScript (Popper.js is required for dropdowns) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/annyang/2.6.0/annyang.min.js"></script>

</head>

<body>
    <header>
        @await Html.PartialAsync("_navbar.cshtml")
    </header>
    <div class="content-wrapper">
        <div class="total-balance">
        @*link to account database table*@
        <h1 style="text-align:center;">Total Balance: $0.00</h1>
        <canvas id="doughnutChart" width="350" height="350"></canvas>
        </div>
        <div class="transaction-history">
            <fieldset class="FormContent">
            <legend><b>Transaction History</b></legend>
            <table class="flex">
                <tr>
                    <th>Transaction Date</th>
                    <th>Description</th>
                    <th>Amount</th>
                    <th>Receiver</th>
                </tr>
                <tr>
                    <th>01/01/2021</th>
                    <th>Fund Transfer</th>
                    <th>+$50.00</th>
                    <th>Jia Yi</th>
                </tr>
                    <tr>
                        <th>02/01/2021</th>
                        <th>Debit Purchase</th>
                        <th>-$30.00</th>
                        <th>Macdonals</th>
                    </tr>
                    <tr>
                        <th>03/01/2021</th>
                        <th>Fast Payment</th>
                        <th>-$10.00</th>
                        <th>Xin Yin</th>
                    </tr>
            </table>
            </fieldset>
        </div>
    </div>


    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Data for the chart
            var data = {
                //link to transaction database table
                labels: ["Savings", "Checking", "Credit Card", "Investment", "Loan"],
                datasets: [
                    {
                        
                        data: [5000, 3000, 2000, 8000, 1000], // Example account balances
                        backgroundColor: ["#2C3E50", "#FC4349", "#6DBCDB", "#F7E248", "#D7DADB"],
                    },
                ],
            };

            // Chart options
            var options = {
                responsive: false,
                maintainAspectRatio: true,
            };

            // Get the chart canvas and create the doughnut chart
            var ctx = document.getElementById("doughnutChart").getContext("2d");
            var myDoughnutChart = new Chart(ctx, {
                type: "doughnut",
                data: data,
                options: options,
            });

            // Get the center of the chart
            var centerX = ctx.canvas.width / 2;
            var centerY = ctx.canvas.height / 2;

            // Manually add text inside the chart
            ctx.font = "24px Arial";
            ctx.fillStyle = "#000";
            ctx.textAlign = "center";
            ctx.fillText("$18,000", centerX, centerY);
            ctx.font = "16px Arial";
            ctx.fillText("Total Balance", centerX, centerY + 30);
        });

        //code for navigation to search page when search bar is clicked
        document.addEventListener('DOMContentLoaded', function () {
            var searchInput = document.getElementById('search');

            // Handle click event on the search input
            searchInput.addEventListener('click', function () {
                window.location.href = '/VisuallyImpaired/Search';
            });

            // Handle focus event on the search input
            searchInput.addEventListener('focus', function () {
                // Add an event listener for the Enter key press
                document.addEventListener('keydown', handleKeyPress);

                // Remove the event listener after the user presses Enter or blurs the input
                searchInput.addEventListener('blur', function () {
                    document.removeEventListener('keydown', handleKeyPress);
                });
            });

            function handleKeyPress(event) {
                if (event.key === 'Enter') {
                    window.location.href = '/VisuallyImpaired/Search'; // Change '/Search' to the actual URL of your Search page
                }
            }

        });

    </script>

    <script src="~/js/annyang-setup.js" asp-append-version="true"></script>
</body>
</html>
