@{
    Layout = null;
}


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>OCBC</title>
    <link rel="stylesheet" type="text/css" href="~/css/transfer.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/annyang/2.6.0/annyang.min.js"></script>
</head>
<body>
    <header>
        @await Html.PartialAsync("_navbar.cshtml")
    </header>

    <div class="container mt-5">
        <div class="transfer-form">
            <div class="form-step-list">
                <div class="form-step-item active">
                    <span class="item__step">1</span>
                    <p class="item__title mt-1">Select Account</p>
                </div>
                <div class="form-step-item text-center">
                    <span class="item__step">2</span>
                    <p class="item__title mt-1">Select Payment Type</p>
                </div>
                <div class="form-step-item text-center">
                    <span class="item__step">3</span>
                    <p class="item__title mt-1">Enter Amount</p>
                </div>
                <div class="form-step-item text-right">
                    <span class="item__step">4</span>
                    <p class="item__title mt-1">Review</p>
                </div>
            </div>

            <div class="form-layout mt-4">
                <!-- Step 1: Select Account -->
                <div class="form-group step-content active">
                    <label for="bankTransfer">Select your Bank Account</label>
                    <select name="bankTransfer" id="bankTransfer">
                        <option value="1">Fank Card Account</option>
                        <option value="2">Saving Account</option>
                    </select>
                </div>

                <!-- Step 2: Select Payment Type -->
                <div class="form-group step-content">
                    <label for="paymentType">Select Payment Method</label>
                    <select name="paymentType" id="paymentType">
                        <option value="1">NRIC</option>
                        <option value="2">Mobile Number</option>
                        <option value="3">UEN</option>
                    </select>
                </div>

                <!-- Step 3: Enter Amount -->
                <div class="form-group step-content">
                    <label for="amount">Enter your Amount</label>
                    <input type="number" id="amount" required />
                </div>

                <!-- Step 4: Review -->
                <div class="form-group step-content">
                    <p>Amount: <span id="reviewAmount"></span></p>
                    <p>Transfer to: <span id="reviewTransferTo"></span></p>
                    <p>Description: <span id="reviewDescription"></span></p>
                </div>
            </div>

            <!-- Next and Previous Buttons -->
            <div class="form-navigation mt-5">
                <button class="btn btn-primary" id="prevBtn" onclick="nextPrev(-1)">Previous</button>
                <button class="btn btn-primary" id="nextBtn" onclick="completeTransfer()">Next</button>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 0;
        const formSteps = document.querySelectorAll('.form-step-item');
        const formContents = document.querySelectorAll('.form-group.step-content');

        function showStep(stepIndex) {
            formSteps.forEach((step, index) => {
                step.classList.toggle('active', index === stepIndex);
            });

            formContents.forEach((content, index) => {
                content.classList.toggle('active', index === stepIndex);
            });

            if (stepIndex === 2) {  // Step 3
                document.getElementById('nextBtn').textContent = 'Transfer';
            } else {
                document.getElementById('nextBtn').textContent = 'Next';
            }
        }

        function nextPrev(stepChange) {
            if (currentStep === 2) {  // Step 3
                // Prompt for confirmation
                if (confirm('Are you sure you want to transfer?')) {
                    currentStep += stepChange;
                }
            } else {
                currentStep += stepChange;
            }

            if (currentStep < 0) {
                currentStep = 0;
            } else if (currentStep >= formSteps.length) {
                currentStep = formSteps.length - 1;
            }
            showStep(currentStep);
        }
    </script>

</body>
</html>
